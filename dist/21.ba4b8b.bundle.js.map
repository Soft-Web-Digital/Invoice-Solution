{"version":3,"sources":["webpack:///./views/roles-and-permissions/add-role/AddRole.vue?ad83","webpack:///./views/roles-and-permissions/add-role/AddRole.vue"],"names":["__exports__","store","isLoading","form","name","permissions","createRole","value","dispatch","then","catch","getters"],"mappings":"0mDAGA,MAAMA,E,2BCqIN,MAAMC,EAAQ,cACRC,EAAY,aAAI,GAEhBC,EAAO,YAAI,CACfC,KAAM,GACNC,YAAa,KAGTC,EAAa,KACjBJ,EAAUK,OAAQ,EAClBN,EACGO,SAAS,mBAAoBL,EAAKI,OAClCE,KAAK,KACJP,EAAUK,OAAQ,IAEnBG,MAAM,KACLR,EAAUK,OAAQ,KAIlBF,EAAc,mBAAS,IACpBJ,EAAMU,QAAQ,sB,OAEvB,oBAAU,KACRV,EAAMO,SAAS,0B,4xGD3JF","file":"21.ba4b8b.bundle.js","sourcesContent":["import script from \"./AddRole.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AddRole.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <!-- Main Wrapper -->\r\n  <div class=\"main-wrapper\">\r\n    <layout-header></layout-header>\r\n    <layout-sidebar></layout-sidebar>\r\n\r\n    <!-- Notification -->\r\n    <div\r\n      v-if=\"store.state.roles.error\"\r\n      style=\"\r\n        width: fit-content;\r\n        position: fixed;\r\n        right: 10px;\r\n        top: 5px;\r\n        z-index: 9999;\r\n      \"\r\n      class=\"alert alert-danger alert-dismissible fade show pb-2 text-sm\"\r\n      role=\"alert\"\r\n    >\r\n      <p>{{ store.state.roles.error }}</p>\r\n      <button\r\n        type=\"button\"\r\n        class=\"btn-close\"\r\n        data-bs-dismiss=\"alert\"\r\n        aria-label=\"Close\"\r\n      ></button>\r\n    </div>\r\n    <div\r\n      v-if=\"store.state.roles.message\"\r\n      style=\"\r\n        width: fit-content;\r\n        position: fixed;\r\n        right: 10px;\r\n        top: 5px;\r\n        z-index: 9999;\r\n      \"\r\n      class=\"alert alert-success alert-dismissible fade show pb-2 text-sm\"\r\n      role=\"alert\"\r\n    >\r\n      <p>{{ store.state.roles.message }}</p>\r\n      <button\r\n        type=\"button\"\r\n        class=\"btn-close\"\r\n        data-bs-dismiss=\"alert\"\r\n        aria-label=\"Close\"\r\n      ></button>\r\n    </div>\r\n    <!-- Notification end -->\r\n\r\n    <!-- Page Wrapper -->\r\n    <div class=\"page-wrapper\">\r\n      <div class=\"content container-fluid\">\r\n        <div class=\"page-header\">\r\n          <div class=\"row\">\r\n            <div class=\"col-sm-12\">\r\n              <h3 class=\"page-title\">Expenses</h3>\r\n              <ul class=\"breadcrumb\">\r\n                <li class=\"breadcrumb-item\">\r\n                  <router-link to=\"/\">Dashboard</router-link>\r\n                </li>\r\n                <li class=\"breadcrumb-item\">\r\n                  <router-link to=\"/roles-and-permissions\"\r\n                    >Roles and Permissions</router-link\r\n                  >\r\n                </li>\r\n                <li class=\"breadcrumb-item active\">Add Role</li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n          <div class=\"col-md-12\">\r\n            <div class=\"card\">\r\n              <div class=\"card-body\">\r\n                <form @submit.prevent=\"createRole\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-md-6\">\r\n                      <div class=\"form-group\">\r\n                        <label>Role Name</label>\r\n                        <input\r\n                          v-model=\"form.name\"\r\n                          type=\"text\"\r\n                          class=\"form-control\"\r\n                          placeholder=\"Super Admin\"\r\n                          required\r\n                        />\r\n                      </div>\r\n                      <div class=\"form-group\">\r\n                        <label>Permissions:</label>\r\n\r\n                        <div class=\"permission-container\">\r\n                          <div\r\n                            class=\"permission-list\"\r\n                            v-for=\"(permission, index) in permissions\"\r\n                            :key=\"index\"\r\n                          >\r\n                            <input type=\"checkbox\"   v-model=\"form.permissions\"\r\n                              :value=\"permission.id\" />\r\n                            <span>{{ permission.name }}</span>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"text-end mt-4\">\r\n                        <button\r\n                          class=\"btn btn-primary\"\r\n                          type=\"submit\"\r\n                          :disabled=\"isLoading\"\r\n                        >\r\n                          <span\r\n                            v-if=\"isLoading\"\r\n                            class=\"spinner-border spinner-border-sm me-1\"\r\n                            role=\"status\"\r\n                            aria-hidden=\"true\"\r\n                          ></span>\r\n                          <span v-if=\"!isLoading\">Add Role</span>\r\n                          <span v-if=\"isLoading\">Adding...</span>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- /Page Wrapper -->\r\n  </div>\r\n  <!-- /Main Wrapper -->\r\n</template>\r\n<script setup>\r\nimport { computed, ref, onMounted } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport { sortPermission } from \"../../../assets/composables/permission\";\r\nconst store = useStore();\r\nconst isLoading = ref(false);\r\n\r\nconst form = ref({\r\n  name: \"\",\r\n  permissions: [],\r\n});\r\n\r\nconst createRole = () => {\r\n  isLoading.value = true;\r\n  store\r\n    .dispatch(\"roles/createRole\", form.value)\r\n    .then(() => {\r\n      isLoading.value = false;\r\n    })\r\n    .catch(() => {\r\n      isLoading.value = false;\r\n    });\r\n};\r\n\r\nconst permissions = computed(() => {\r\n  return store.getters[\"roles/permissions\"];\r\n});\r\nonMounted(() => {\r\n  store.dispatch(\"roles/getPermissions\");\r\n});\r\n</script>\r\n\r\n<style >\r\n\r\n</style>\r\n"],"sourceRoot":""}