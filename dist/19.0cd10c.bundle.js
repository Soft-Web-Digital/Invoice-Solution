(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1129:function(e,t,c){"use strict";c.r(t);var a=c(4),l=c(6),o=c(3),n=c(2),r=c(15),s=c(33),d=c(46);const i={class:"main-wrapper"},b={key:0,class:"alert notify-danger alert-dismissible",role:"alert"},m={key:1,class:"alert notify-success alert-dismissible",role:"alert"},j={class:"page-wrapper"},O={class:"content container-fluid"},p={class:"page-header"},u={class:"row align-items-center"},v={class:"col"},V=Object(a.createElementVNode)("h3",{class:"page-title"},"Deposits",-1),N={class:"breadcrumb"},E={class:"breadcrumb-item"},g=Object(a.createElementVNode)("li",{class:"breadcrumb-item active"},"Deposits",-1),k=Object(a.createElementVNode)("div",{class:"col-auto"},[Object(a.createCommentVNode)(' <router-link to="/add-payments" class="btn btn-primary me-2">\r\n                <i class="fas fa-plus"></i>\r\n              </router-link> '),Object(a.createCommentVNode)(' <a\r\n\t\t\t\t\t\t\t\tclass="btn btn-primary filter-btn"\r\n\t\t\t\t\t\t\t\thref="javascript:void(0);"\r\n\t\t\t\t\t\t\t\t@click="toggleFilter"\r\n\t\t\t\t\t\t\t\tid="filter_search"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<i class="fas fa-filter"></i>\r\n\t\t\t\t\t\t\t</a> ')],-1),y={key:0,class:"card filter-card"},h={class:"card-body pb-0"},f={class:"row"},C={class:"col-sm-6 col-md-3"},B={class:"form-group"},w=Object(a.createElementVNode)("label",null,"Type",-1),D={class:"row"},x={class:"col-sm-12"},S={class:"card card-table"},M={class:"card-body"},T={class:"table-responsive"},A={class:"d-flex align-items-center justify-content-between p-4"},z=Object(a.createElementVNode)("span",null,"Show",-1),_=[Object(a.createElementVNode)("option",{value:"50"},"50",-1),Object(a.createElementVNode)("option",{value:"100"},"100",-1),Object(a.createElementVNode)("option",{value:"200"},"200",-1),Object(a.createElementVNode)("option",{value:"500"},"500",-1)],W=Object(a.createElementVNode)("span",null,"transactions",-1),F={class:"table table-center table-hover datatable"},L=Object(a.createElementVNode)("thead",{class:"thead-light"},[Object(a.createElementVNode)("tr",null,[Object(a.createElementVNode)("th",null,"#"),Object(a.createElementVNode)("th",null,"Reference ID"),Object(a.createElementVNode)("th",null,"User"),Object(a.createElementVNode)("th",null,"Amount"),Object(a.createElementVNode)("th",null,"Date"),Object(a.createElementVNode)("th",null,"Type"),Object(a.createElementVNode)("th",null,"Method"),Object(a.createElementVNode)("th",null,"Status"),Object(a.createElementVNode)("th",{class:"text-end"},"Action")])],-1),P={class:"text-capitalize"},U={class:"text-capitalize"},I={class:"text-center"},q={class:"dropdown dropdown-action"},J=["disabled"],$=[Object(a.createElementVNode)("i",{class:"fas fa-ellipsis-h"},null,-1)],H={class:"dropdown-menu dropdown-menu-right",style:{width:"fit-content"}},R=["onClick"],G=Object(a.createElementVNode)("i",{class:"far fa-check-circle text-success me-2"},null,-1),K=["onClick"],Q=Object(a.createElementVNode)("i",{class:"far fa-times-circle text-danger me-2"},null,-1),X={key:0,class:"d-flex my-5 align-items-center justify-content-center"},Y={key:1,class:"d-flex my-5 align-items-center justify-content-center"},Z={key:2,class:"d-flex align-items-center justify-content-between p-4"},ee={key:0},te={class:"pagination mb-4"},ce=[Object(a.createElementVNode)("a",{class:"page-link",href:"javascript:;",tabindex:"-1"},"Previous",-1)],ae=["onClick"],le={class:"page-link",href:"javascript:;"},oe=[Object(a.createElementVNode)("a",{class:"page-link",href:"javascript:;"},"Next",-1)],ne={id:"top-modal",class:"modal fade",tabindex:"-1",role:"dialog","aria-hidden":"true"},re={class:"modal-dialog modal-top"},se={class:"modal-content"},de=Object(a.createElementVNode)("div",{class:"modal-header"},[Object(a.createElementVNode)("h4",{class:"modal-title",id:"topModalLabel"},"Transaction"),Object(a.createElementVNode)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),ie={class:"modal-body"},be={key:0},me={key:0},je={class:"modal-footer"};const Oe={__name:"Deposit",setup(e){const t=Object(r.b)(),c=Object(l.s)(!1),Oe=Object(l.s)(1),pe=Object(l.s)(50),ue=Object(l.s)(!1),ve=Object(l.s)(null),Ve=Object(l.s)(null),Ne=Object(l.s)(""),Ee=Object(l.s)({search:""});Object(a.watch)(()=>Ee.value,e=>{ye(e.search)},{deep:!0});Object(a.watch)(pe,e=>{pe.value=e,ye()});const ge=["All","Deposit","Withdrawal","Others"],ke=Object(a.computed)(()=>t.getters["transaction/transactions"]),ye=(e="")=>{ue.value=!0;let c={page:Oe.value,per_page:pe.value,type:"deposit",query:e};t.dispatch("transaction/getTransactions",c).then(()=>{ue.value=!1,ve.value=ke.value.data.length}).catch(()=>{ue.value=!1})},he=(e,t)=>{new bootstrap.Modal(document.getElementById("top-modal"),{backdrop:"static"}).show(),Ve.value=e,Ne.value=t},fe=()=>{var e=document.getElementById("top-modal"),t=document.querySelector('[data-bs-dismiss="modal"]');t.setAttribute("data-bs-target","#"+e.id),t.click()},Ce=Object(a.computed)(()=>t.getters["transaction/total"]),Be=()=>{Oe.value++,ye()},we=()=>{1!=Oe.value&&(Oe.value--,ye())},De=Object(a.computed)(()=>{let e=Math.max(Oe.value-Math.floor(5),1);const t=Math.min(e+10-1,Ce.value);t-e+1<10&&(e=Math.max(t-10+1,1));const c=[];for(let a=e;a<=t;a++)c.push(a);return c});return Object(a.onMounted)(()=>{ye()}),(e,r)=>{const Ce=Object(a.resolveComponent)("layout-header"),xe=Object(a.resolveComponent)("layout-sidebar"),Se=Object(a.resolveComponent)("router-link"),Me=Object(a.resolveComponent)("vue-select");return Object(a.openBlock)(),Object(a.createElementBlock)(a.Fragment,null,[Object(a.createCommentVNode)(" Main Wrapper "),Object(a.createElementVNode)("div",i,[Object(a.createVNode)(Ce),Object(a.createVNode)(xe),Object(a.createCommentVNode)(" Notification "),Object(l.E)(t).state.transaction.error?(Object(a.openBlock)(),Object(a.createElementBlock)("div",b,[Object(a.createElementVNode)("p",null,Object(o.toDisplayString)(Object(l.E)(t).state.transaction.error),1)])):Object(a.createCommentVNode)("v-if",!0),Object(l.E)(t).state.transaction.message?(Object(a.openBlock)(),Object(a.createElementBlock)("div",m,[Object(a.createElementVNode)("p",null,Object(o.toDisplayString)(Object(l.E)(t).state.transaction.message),1)])):Object(a.createCommentVNode)("v-if",!0),Object(a.createCommentVNode)(" Notification end "),Object(a.createCommentVNode)(" Page Wrapper "),Object(a.createElementVNode)("div",j,[Object(a.createElementVNode)("div",O,[Object(a.createCommentVNode)(" Page Header "),Object(a.createElementVNode)("div",p,[Object(a.createElementVNode)("div",u,[Object(a.createElementVNode)("div",v,[V,Object(a.createElementVNode)("ul",N,[Object(a.createElementVNode)("li",E,[Object(a.createVNode)(Se,{to:"/"},{default:Object(a.withCtx)(()=>[Object(a.createTextVNode)("Dashboard")]),_:1})]),g])]),k])]),c.value?(Object(a.openBlock)(),Object(a.createElementBlock)("div",y,[Object(a.createElementVNode)("div",h,[Object(a.createElementVNode)("div",f,[Object(a.createCommentVNode)(' <div class="col-sm-6 col-md-3">\r\n\t\t\t\t\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t\t\t\t\t<label>Date</label>\r\n\t\t\t\t\t\t\t\t\t<input type="text" class="form-control" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div> '),Object(a.createCommentVNode)(' <div class="col-sm-6 col-md-3">\r\n\t\t\t\t\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t\t\t\t\t<label>Status</label>\r\n\t\t\t\t\t\t\t\t\t<vue-select :options="paymentfilter" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div> '),Object(a.createElementVNode)("div",C,[Object(a.createElementVNode)("div",B,[w,Object(a.createVNode)(Me,{modelValue:Ee.value.type,"onUpdate:modelValue":r[0]||(r[0]=e=>Ee.value.type=e),options:ge},null,8,["modelValue"])])]),Object(a.createCommentVNode)(' <div class="col-sm-6 col-md-3">\r\n\t\t\t\t\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t\t\t\t\t<label>Method</label>\r\n\t\t\t\t\t\t\t\t\t<vue-select :options="paymentfilter" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div> ')])])])):Object(a.createCommentVNode)("v-if",!0),Object(a.createElementVNode)("div",D,[Object(a.createElementVNode)("div",x,[Object(a.createElementVNode)("div",S,[Object(a.createElementVNode)("div",M,[Object(a.createElementVNode)("div",T,[Object(a.createElementVNode)("div",A,[Object(a.createElementVNode)("div",null,[z,Object(a.withDirectives)(Object(a.createElementVNode)("select",{class:"mx-1 py-1","onUpdate:modelValue":r[1]||(r[1]=e=>pe.value=e),name:"",id:""},_,512),[[n.vModelSelect,pe.value]]),W]),Object(a.createElementVNode)("div",null,[Object(a.withDirectives)(Object(a.createElementVNode)("input",{type:"text",class:"form-control","onUpdate:modelValue":r[2]||(r[2]=e=>Ee.value.search=e),placeholder:"Search"},null,512),[[n.vModelText,Ee.value.search]])])]),Object(a.createElementVNode)("table",F,[L,Object(a.createElementVNode)("tbody",null,[(Object(a.openBlock)(!0),Object(a.createElementBlock)(a.Fragment,null,Object(a.renderList)(Object(l.E)(ke).data,(e,t)=>(Object(a.openBlock)(),Object(a.createElementBlock)("tr",{key:e.id},[Object(a.createElementVNode)("td",null,Object(o.toDisplayString)(t+1),1),Object(a.createElementVNode)("td",null,Object(o.toDisplayString)(e.reference),1),Object(a.createElementVNode)("td",null,Object(o.toDisplayString)(e.user.name),1),Object(a.createElementVNode)("td",null,Object(o.toDisplayString)(`${e.currency} ${Object(l.E)(d.a)(e.amount)}`),1),Object(a.createElementVNode)("td",null,Object(o.toDisplayString)(Object(l.E)(s.b)(e.created_at)),1),Object(a.createElementVNode)("td",P,Object(o.toDisplayString)(e.type),1),Object(a.createElementVNode)("td",U,Object(o.toDisplayString)(e.method),1),Object(a.createElementVNode)("td",null,[Object(a.createElementVNode)("span",{class:Object(o.normalizeClass)(["badge badge-pill text-capitalize",{"bg-warning":"pending"==e.status,"bg-danger":"declined"==e.status,"bg-success-light":"approved"==e.status}])},Object(o.toDisplayString)(e.status),3)]),Object(a.createElementVNode)("td",I,[Object(a.createElementVNode)("div",q,[Object(a.createElementVNode)("a",{disabled:"declined"===e.status||"approved"===e.status,class:"action-icon dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false"},$,8,J),Object(a.createElementVNode)("div",H,["pending"==e.status?(Object(a.openBlock)(),Object(a.createElementBlock)("a",{key:0,class:"dropdown-item",onClick:t=>he(e,"approve")},[G,Object(a.createTextVNode)(" Approve")],8,R)):Object(a.createCommentVNode)("v-if",!0),"pending"==e.status?(Object(a.openBlock)(),Object(a.createElementBlock)("a",{key:1,class:"dropdown-item",onClick:t=>he(e,"decline")},[Q,Object(a.createTextVNode)(" Decline")],8,K)):Object(a.createCommentVNode)("v-if",!0)])])])]))),128))])]),ue.value?(Object(a.openBlock)(),Object(a.createElementBlock)("div",X," Loading... ")):Object(a.createCommentVNode)("v-if",!0),ue.value||0!==ve.value?Object(a.createCommentVNode)("v-if",!0):(Object(a.openBlock)(),Object(a.createElementBlock)("div",Y," No Data Available ")),ue.value||0===ve.value?Object(a.createCommentVNode)("v-if",!0):(Object(a.openBlock)(),Object(a.createElementBlock)("div",Z,[Object(l.E)(ke).meta?(Object(a.openBlock)(),Object(a.createElementBlock)("p",ee," Showing "+Object(o.toDisplayString)(Object(l.E)(ke).data.length)+" of "+Object(o.toDisplayString)(Object(l.E)(ke).meta.total)+" transactions ",1)):Object(a.createCommentVNode)("v-if",!0),Object(a.createElementVNode)("div",null,[Object(a.createElementVNode)("ul",te,[Object(a.createElementVNode)("li",{class:Object(o.normalizeClass)(["page-item",{disabled:1==Oe.value}]),onClick:we},ce,2),(Object(a.openBlock)(!0),Object(a.createElementBlock)(a.Fragment,null,Object(a.renderList)(Object(l.E)(De),e=>(Object(a.openBlock)(),Object(a.createElementBlock)("li",{class:Object(o.normalizeClass)(["page-item",{active:e===Oe.value}]),key:e,onClick:t=>(e=>{Oe.value=e,ye()})(e)},[Object(a.createElementVNode)("a",le,Object(o.toDisplayString)(e),1)],10,ae))),128)),Object(a.createElementVNode)("li",{class:"page-item",onClick:Be},oe)])])]))])])])])])])]),Object(a.createCommentVNode)(" /Page Wrapper "),Object(a.createElementVNode)("div",ne,[Object(a.createElementVNode)("div",re,[Object(a.createElementVNode)("div",se,[de,Object(a.createElementVNode)("div",ie,[Ve.value?(Object(a.openBlock)(),Object(a.createElementBlock)("p",be,[Object(a.createTextVNode)(" Are you sure you want to "+Object(o.toDisplayString)("decline"===Ne.value?"decline":"approve")+" ",1),Ve.value?(Object(a.openBlock)(),Object(a.createElementBlock)("span",me,Object(o.toDisplayString)(Ve.value.user.name)+" transaction?",1)):Object(a.createCommentVNode)("v-if",!0)])):Object(a.createCommentVNode)("v-if",!0)]),Object(a.createElementVNode)("div",je,[Object(a.createElementVNode)("button",{type:"button",class:"btn btn-light me-1",onClick:fe}," Close "),Ve.value&&"decline"===Ne.value?(Object(a.openBlock)(),Object(a.createElementBlock)("button",{key:0,type:"button",onClick:r[3]||(r[3]=e=>{return c=Ve.value.id,void t.dispatch("transaction/declineTransaction",c).then(()=>{fe(),ye()});var c}),class:"btn btn-danger"}," Decline ")):Object(a.createCommentVNode)("v-if",!0),Ve.value&&"approve"===Ne.value?(Object(a.openBlock)(),Object(a.createElementBlock)("button",{key:1,type:"button",onClick:r[4]||(r[4]=e=>{return c=Ve.value.id,void t.dispatch("transaction/approveTransaction",c).then(()=>{fe(),ye()});var c}),class:"btn btn-success"}," Approve ")):Object(a.createCommentVNode)("v-if",!0)])]),Object(a.createCommentVNode)(" /.modal-content ")])]),Object(a.createCommentVNode)(" /.modal-dialog ")]),Object(a.createCommentVNode)(" /Main Wrapper ")],2112)}}};t.default=Oe}}]);
//# sourceMappingURL=19.0cd10c.bundle.js.map