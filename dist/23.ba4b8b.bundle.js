(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{1121:function(e,t,c){"use strict";c.r(t);var a=c(4),l=c(6),o=c(3),n=c(2),r=c(15),d=c(33),s=c(37);const b={class:"main-wrapper"},i={key:0,style:{width:"fit-content",position:"fixed",right:"10px",top:"5px","z-index":"9999"},class:"alert alert-danger alert-dismissible fade show pb-2 text-sm",role:"alert"},m=Object(a.createElementVNode)("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"},null,-1),j={key:1,style:{width:"fit-content",position:"fixed",right:"10px",top:"5px","z-index":"9999"},class:"alert alert-success alert-dismissible fade show pb-2 text-sm",role:"alert"},O=Object(a.createElementVNode)("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"},null,-1),p={class:"page-wrapper"},u={class:"content container-fluid"},N={class:"page-header"},V={class:"row align-items-center"},E={class:"col"},v=Object(a.createElementVNode)("h3",{class:"page-title"},"Roles and Permissions",-1),h={class:"breadcrumb"},g={class:"breadcrumb-item"},f=Object(a.createElementVNode)("li",{class:"breadcrumb-item active"},"Roles and Permissions",-1),y={class:"col-auto"},w=Object(a.createElementVNode)("i",{class:"fas fa-plus"},null,-1),C={key:0,class:"card filter-card"},k={class:"card-body pb-0"},x={class:"row"},B=Object(a.createElementVNode)("div",{class:"col-sm-6 col-md-3"},[Object(a.createElementVNode)("div",{class:"form-group"},[Object(a.createElementVNode)("label",null,"Date"),Object(a.createElementVNode)("input",{type:"text",class:"form-control"})])],-1),D={class:"col-sm-6 col-md-3"},S={class:"form-group"},P=Object(a.createElementVNode)("label",null,"Status",-1),R={class:"col-sm-6 col-md-3"},_={class:"form-group"},M=Object(a.createElementVNode)("label",null,"Type",-1),T={class:"col-sm-6 col-md-3"},A={class:"form-group"},q=Object(a.createElementVNode)("label",null,"Method",-1),W={class:"row"},F={class:"col-sm-12"},L={class:"card card-table"},z={class:"card-body"},I={class:"table-responsive"},J={class:"d-flex align-items-center justify-content-between p-4"},U=Object(a.createElementVNode)("span",null,"Show",-1),H=[Object(a.createElementVNode)("option",{value:"50"},"50",-1),Object(a.createElementVNode)("option",{value:"100"},"100",-1),Object(a.createElementVNode)("option",{value:"200"},"200",-1),Object(a.createElementVNode)("option",{value:"500"},"500",-1)],G=Object(a.createElementVNode)("span",null,"roles",-1),K=Object(a.createElementVNode)("div",null,[Object(a.createElementVNode)("input",{type:"text",class:"form-control",placeholder:"Search"})],-1),Q={class:"table table-center table-hover datatable"},X=Object(a.createElementVNode)("thead",{class:"thead-light"},[Object(a.createElementVNode)("tr",null,[Object(a.createElementVNode)("th",null,"Name"),Object(a.createElementVNode)("th",null,"No of Admins"),Object(a.createElementVNode)("th",null,"No of Permissions"),Object(a.createElementVNode)("th",null,"Date Added"),Object(a.createElementVNode)("th",{class:"text-end"},"Action")])],-1),Y={href:"javascript:void(0);"},Z={class:"text-center"},$={class:"dropdown dropdown-action"},ee=Object(a.createElementVNode)("a",{href:"javascript:void(0)",class:"action-icon dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false"},[Object(a.createElementVNode)("i",{class:"fas fa-ellipsis-h"})],-1),te={class:"dropdown-menu dropdown-menu-right",style:{width:"fit-content"}},ce=Object(a.createElementVNode)("i",{class:"fa fa-edit me-2"},null,-1),ae=["onClick"],le=Object(a.createElementVNode)("i",{class:"fa fa-trash me-2"},null,-1),oe={key:0,class:"d-flex my-5 align-items-center justify-content-center"},ne={key:1,class:"d-flex my-5 align-items-center justify-content-center"},re={id:"top-modal",class:"modal fade",tabindex:"-1",role:"dialog","aria-hidden":"true"},de={class:"modal-dialog modal-top"},se={class:"modal-content"},be=Object(a.createElementVNode)("div",{class:"modal-header"},[Object(a.createElementVNode)("h4",{class:"modal-title",id:"topModalLabel"},"Delete Role"),Object(a.createElementVNode)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),ie={class:"modal-body"},me={key:0};const je={__name:"Roles",setup(e){const t=Object(r.b)(),c=Object(l.s)(!1),je=Object(l.s)(1),Oe=Object(l.s)(50),pe=Object(l.s)(""),ue=Object(l.s)(null),Ne=Object(l.s)(!1),Ve=Object(l.s)(null);Object(a.watch)(pe,e=>{Ee(e)});const Ee=e=>{let c={page:je.value,per_page:Oe.value,query:e};t.dispatch("roles/getRoles",c)},ve=()=>{var e=document.getElementById("top-modal"),t=document.querySelector('[data-bs-dismiss="modal"]');t.setAttribute("data-bs-target","#"+e.id),t.click()},he=()=>{t.dispatch("roles/deleteRole",ue.value.id),ve()};Object(a.watch)(Oe,e=>{Oe.value=e,ye()});const ge=["Payment Mode","Cash","Cheque","Card","Online"],fe=Object(a.computed)(()=>t.getters["roles/roles"]),ye=()=>{Ne.value=!0;let e={page:je.value,per_page:Oe.value,query:""};t.dispatch("roles/getRoles",e).then(()=>{Ne.value=!1,Ve.value=fe.value.data.length,t.dispatch("roles/getPermissions")}).catch(()=>{Ne.value=!1})},we=Object(a.computed)(()=>t.getters["admin/total"]);Object(a.computed)(()=>{const e=[];for(let t=1;t<=we.value;t++)e.push(t);return e.length>10?e.splice(0,10):e});return Object(a.onMounted)(()=>{t.dispatch("roles/getPermissions"),ye()}),(e,r)=>{const je=Object(a.resolveComponent)("layout-header"),pe=Object(a.resolveComponent)("layout-sidebar"),Ee=Object(a.resolveComponent)("router-link"),ye=Object(a.resolveComponent)("vue-select");return Object(a.openBlock)(),Object(a.createElementBlock)(a.Fragment,null,[Object(a.createCommentVNode)(" Main Wrapper "),Object(a.createElementVNode)("div",b,[Object(a.createVNode)(je),Object(a.createVNode)(pe),Object(a.createCommentVNode)(" Notification "),Object(l.E)(t).state.roles.error?(Object(a.openBlock)(),Object(a.createElementBlock)("div",i,[Object(a.createElementVNode)("p",null,Object(o.toDisplayString)(Object(l.E)(t).state.roles.error),1),m])):Object(a.createCommentVNode)("v-if",!0),Object(l.E)(t).state.roles.message?(Object(a.openBlock)(),Object(a.createElementBlock)("div",j,[Object(a.createElementVNode)("p",null,Object(o.toDisplayString)(Object(l.E)(t).state.roles.message),1),O])):Object(a.createCommentVNode)("v-if",!0),Object(a.createCommentVNode)(" Notification end "),Object(a.createCommentVNode)(" Page Wrapper "),Object(a.createElementVNode)("div",p,[Object(a.createTextVNode)(Object(o.toDisplayString)(e.permissions)+" ",1),Object(a.createElementVNode)("div",u,[Object(a.createCommentVNode)(" Page Header "),Object(a.createElementVNode)("div",N,[Object(a.createElementVNode)("div",V,[Object(a.createElementVNode)("div",E,[v,Object(a.createElementVNode)("ul",h,[Object(a.createElementVNode)("li",g,[Object(a.createVNode)(Ee,{to:"/"},{default:Object(a.withCtx)(()=>[Object(a.createTextVNode)("Dashboard")]),_:1})]),f])]),Object(a.withDirectives)(Object(a.createElementVNode)("div",y,[Object(a.createVNode)(Ee,{to:"/add-role",class:"btn btn-primary me-2"},{default:Object(a.withCtx)(()=>[w]),_:1}),Object(a.createCommentVNode)(' <a\r\n                class="btn btn-primary filter-btn"\r\n                href="javascript:void(0);"\r\n                @click="toggleFilter"\r\n                id="filter_search"\r\n              >\r\n                <i class="fas fa-filter"></i>\r\n              </a> ')],512),[[n.vShow,Object(l.E)(s.a)(["Create Roles"])]])])]),c.value?(Object(a.openBlock)(),Object(a.createElementBlock)("div",C,[Object(a.createElementVNode)("div",k,[Object(a.createElementVNode)("div",x,[B,Object(a.createElementVNode)("div",D,[Object(a.createElementVNode)("div",S,[P,Object(a.createVNode)(ye,{options:ge})])]),Object(a.createElementVNode)("div",R,[Object(a.createElementVNode)("div",_,[M,Object(a.createVNode)(ye,{options:ge})])]),Object(a.createElementVNode)("div",T,[Object(a.createElementVNode)("div",A,[q,Object(a.createVNode)(ye,{options:ge})])])])])])):Object(a.createCommentVNode)("v-if",!0),Object(a.createElementVNode)("div",W,[Object(a.createElementVNode)("div",F,[Object(a.createElementVNode)("div",L,[Object(a.createElementVNode)("div",z,[Object(a.createElementVNode)("div",I,[Object(a.createElementVNode)("div",J,[Object(a.createElementVNode)("div",null,[U,Object(a.withDirectives)(Object(a.createElementVNode)("select",{class:"mx-1 py-1","onUpdate:modelValue":r[0]||(r[0]=e=>Oe.value=e),name:"",id:""},H,512),[[n.vModelSelect,Oe.value]]),G]),K]),Object(a.createElementVNode)("table",Q,[X,Object(a.createElementVNode)("tbody",null,[(Object(a.openBlock)(!0),Object(a.createElementBlock)(a.Fragment,null,Object(a.renderList)(Object(l.E)(fe).data,e=>(Object(a.openBlock)(),Object(a.createElementBlock)("tr",{key:e.id},[Object(a.createElementVNode)("td",null,[Object(a.createElementVNode)("a",Y,Object(o.toDisplayString)(e.name),1)]),Object(a.createElementVNode)("td",null,Object(o.toDisplayString)(e.admins),1),Object(a.createElementVNode)("td",null,Object(o.toDisplayString)(e.permissions.length),1),Object(a.createElementVNode)("td",null,Object(o.toDisplayString)(Object(l.E)(d.b)(e.created_at)),1),Object(a.createElementVNode)("td",Z,[Object(a.createElementVNode)("div",$,[ee,Object(a.withDirectives)(Object(a.createElementVNode)("div",te,[Object(a.createVNode)(Ee,{to:"/edit-role/"+e.id,class:"dropdown-item"},{default:Object(a.withCtx)(()=>[ce,Object(a.createTextVNode)(" Edit")]),_:2},1032,["to"]),Object(a.withDirectives)(Object(a.createElementVNode)("a",{class:"dropdown-item cursor-pointer","data-bs-toggle":"modal",href:"javascript:void(0);",onClick:t=>(e=>{new bootstrap.Modal(document.getElementById("top-modal"),{backdrop:"static"}).show(),ue.value=e})(e)},[le,Object(a.createTextVNode)("Delete")],8,ae),[[n.vShow,Object(l.E)(s.a)([""])]])],512),[[n.vShow,Object(l.E)(s.a)(["Update Roles"])]])])])]))),128))])]),Ne.value?(Object(a.openBlock)(),Object(a.createElementBlock)("div",oe," Loading... ")):Object(a.createCommentVNode)("v-if",!0),0===Ve.value?(Object(a.openBlock)(),Object(a.createElementBlock)("div",ne," No Data Available ")):Object(a.createCommentVNode)("v-if",!0)])])])])])])]),Object(a.createCommentVNode)(" /Page Wrapper "),Object(a.createElementVNode)("div",re,[Object(a.createElementVNode)("div",de,[Object(a.createElementVNode)("div",se,[be,Object(a.createElementVNode)("div",ie,[Object(a.createCommentVNode)(" <h5>Text in a modal</h5> "),Object(a.createElementVNode)("p",null,[Object(a.createTextVNode)(" Are you sure you want to delete "),ue.value?(Object(a.openBlock)(),Object(a.createElementBlock)("span",me,Object(o.toDisplayString)(ue.value.name)+"?",1)):Object(a.createCommentVNode)("v-if",!0)])]),Object(a.createElementVNode)("div",{class:"modal-footer"},[Object(a.createElementVNode)("button",{type:"button",class:"btn btn-light me-1",onClick:ve}," Close "),Object(a.createElementVNode)("button",{type:"button",onClick:he,class:"btn btn-danger"}," Delete ")])]),Object(a.createCommentVNode)(" /.modal-content ")]),Object(a.createCommentVNode)(" /.modal-dialog ")])]),Object(a.createCommentVNode)(" /Main Wrapper ")],2112)}}};t.default=je}}]);
//# sourceMappingURL=23.ba4b8b.bundle.js.map