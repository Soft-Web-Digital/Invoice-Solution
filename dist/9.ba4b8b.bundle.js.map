{"version":3,"sources":["webpack:///./views/notification/create-notification/Index.vue?0ee2","webpack:///./views/notification/create-notification/Index.vue"],"names":["__exports__","store","isLoading","form","recipients","subject","body","inapp_notification","name","value","Send","dispatch","then","catch"],"mappings":"ywCAGA,MAAMA,E,yBCmHN,MAAMC,EAAQ,cACRC,EAAY,aAAI,GAEhBC,EAAO,YAAI,CACfC,WAAY,GACZC,QAAS,GACTC,KAAM,GACNC,oBAAoB,IAGhBH,EAAa,CACjB,CAAEI,KAAM,YAAaC,MAAO,aAC5B,CAAED,KAAM,qBAAsBC,MAAO,uBAiBjCC,EAAO,KACXR,EAAUO,OAAQ,EAClBR,EACGU,SAAS,kCAAmCR,EAAKM,OACjDG,KAAK,KACJV,EAAUO,OAAQ,IAEnBI,MAAM,KACLX,EAAUO,OAAQ,K,wtGDtJT","file":"9.ba4b8b.bundle.js","sourcesContent":["import script from \"./Index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Index.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <!-- Main Wrapper -->\r\n  <div class=\"main-wrapper\">\r\n    <layout-header></layout-header>\r\n    <layout-sidebar></layout-sidebar>\r\n\r\n    <!-- Notification -->\r\n    <div\r\n      v-if=\"store.state.notification.error\"\r\n      class=\"alert notify-danger alert-dismissible\"\r\n      role=\"alert\"\r\n    >\r\n      <p>{{ store.state.notification.error }}</p>\r\n    </div>\r\n    <div\r\n      v-if=\"store.state.notification.message\"\r\n      style=\"\r\n        width: fit-content;\r\n        position: fixed;\r\n        right: 10px;\r\n        top: 5px;\r\n        z-index: 9999;\r\n      \"\r\n      class=\"alert notify-success alert-dismissible\"\r\n      role=\"alert\"\r\n    >\r\n      <p>{{ store.state.notification.message }}</p>\r\n    </div>\r\n    <!-- Notification end -->\r\n\r\n    <!-- Page Wrapper -->\r\n    <div class=\"page-wrapper\">\r\n      <div class=\"content container-fluid\">\r\n        <div class=\"page-header\">\r\n          <div class=\"row\">\r\n            <div class=\"col-sm-12\">\r\n              <h3 class=\"page-title\">Notifications</h3>\r\n              <ul class=\"breadcrumb\">\r\n                <li class=\"breadcrumb-item\">\r\n                  <router-link to=\"/\">Dashboard</router-link>\r\n                </li>\r\n                <li class=\"breadcrumb-item\">\r\n                  <router-link to=\"/notification\">Notifications</router-link>\r\n                </li>\r\n                <li class=\"breadcrumb-item active\">Create Notification</li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n          <div class=\"col-md-12\">\r\n            <div class=\"card\">\r\n              <div class=\"card-body\">\r\n                <form @submit.prevent=\"Send\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-md-6\">\r\n                      <div class=\"form-group\">\r\n                        <label>Title</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          v-model=\"form.subject\"\r\n                          class=\"form-control\"\r\n                          required\r\n                        />\r\n                      </div>\r\n                      <div class=\"form-group\">\r\n                        <label>Recipients</label>\r\n                        <v-select\r\n                          v-model=\"form.recipients\"\r\n                          :options=\"recipients\"\r\n                          label=\"name\"\r\n                          :required=\"true\"\r\n                          :reduce=\"(recipient) => recipient.value\"\r\n                        />\r\n                      </div>\r\n                      <div class=\"form-group\">\r\n                        <label>Body</label>\r\n                        <textarea\r\n                          v-model=\"form.body\"\r\n                          class=\"form-control\"\r\n                          required\r\n                        ></textarea>\r\n                      </div>\r\n                      <div class=\"text-end mt-4\">\r\n                        <button\r\n                          class=\"btn btn-primary\"\r\n                          type=\"submit\"\r\n                          :disabled=\"isLoading\"\r\n                        >\r\n                          <span\r\n                            v-if=\"isLoading\"\r\n                            class=\"spinner-border spinner-border-sm me-1\"\r\n                            role=\"status\"\r\n                            aria-hidden=\"true\"\r\n                          ></span>\r\n                          <span v-if=\"!isLoading\">Send</span>\r\n                          <span v-if=\"isLoading\">Sending...</span>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- /Page Wrapper -->\r\n  </div>\r\n  <!-- /Main Wrapper -->\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\n\r\nconst store = useStore();\r\nconst isLoading = ref(false);\r\n\r\nconst form = ref({\r\n  recipients: \"\",\r\n  subject: \"\",\r\n  body: \"\",\r\n  inapp_notification: true,\r\n});\r\n\r\nconst recipients = [\r\n  { name: \"All Users\", value: \"all_users\" },\r\n  { name: \"All Verified Users\", value: \"all_verified_users\" },\r\n];\r\n\r\nconst openModal = (item) => {\r\n  selectedItem.value = item;\r\n  var myModal = new bootstrap.Modal(document.getElementById(\"top-modal\"), {\r\n    backdrop: \"static\",\r\n  });\r\n  myModal.show();\r\n};\r\nconst closeModal = () => {\r\n  var myModal = document.getElementById(\"top-modal\");\r\n  var modalTrigger = document.querySelector('[data-bs-dismiss=\"modal\"]');\r\n  modalTrigger.setAttribute(\"data-bs-target\", \"#\" + myModal.id);\r\n  modalTrigger.click();\r\n};\r\n\r\nconst Send = () => {\r\n  isLoading.value = true;\r\n  store\r\n    .dispatch(\"notification/createNotification\", form.value)\r\n    .then(() => {\r\n      isLoading.value = false;\r\n    })\r\n    .catch(() => {\r\n      isLoading.value = false;\r\n    });\r\n};\r\n</script>\r\n"],"sourceRoot":""}