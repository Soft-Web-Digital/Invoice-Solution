(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{1117:function(e,t,c){"use strict";c.r(t);var l=c(4),a=c(6),o=c(3),n=c(2),d=c(15),r=c(33);const s={class:"main-wrapper"},b={key:0,style:{width:"fit-content",position:"fixed",right:"10px",top:"5px","z-index":"9999"},class:"alert alert-danger alert-dismissible fade show pb-2 text-sm",role:"alert"},i=Object(l.createElementVNode)("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"},null,-1),m={key:1,style:{width:"fit-content",position:"fixed",right:"10px",top:"5px","z-index":"9999"},class:"alert alert-success alert-dismissible fade show pb-2 text-sm",role:"alert"},j=Object(l.createElementVNode)("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"},null,-1),O={class:"page-wrapper"},p={class:"content container-fluid"},u={class:"page-header"},N={class:"row align-items-center"},V={class:"col"},E=Object(l.createElementVNode)("h3",{class:"page-title"},"Roles and Permissions",-1),v={class:"breadcrumb"},g={class:"breadcrumb-item"},h=Object(l.createElementVNode)("li",{class:"breadcrumb-item active"},"Roles and Permissions",-1),f={class:"col-auto"},y=Object(l.createElementVNode)("i",{class:"fas fa-plus"},null,-1),k={key:0,class:"card filter-card"},w={class:"card-body pb-0"},C={class:"row"},x=Object(l.createElementVNode)("div",{class:"col-sm-6 col-md-3"},[Object(l.createElementVNode)("div",{class:"form-group"},[Object(l.createElementVNode)("label",null,"Date"),Object(l.createElementVNode)("input",{type:"text",class:"form-control"})])],-1),B={class:"col-sm-6 col-md-3"},D={class:"form-group"},S=Object(l.createElementVNode)("label",null,"Status",-1),_={class:"col-sm-6 col-md-3"},M={class:"form-group"},P=Object(l.createElementVNode)("label",null,"Type",-1),R={class:"col-sm-6 col-md-3"},A={class:"form-group"},T=Object(l.createElementVNode)("label",null,"Method",-1),q={class:"row"},W={class:"col-sm-12"},F={class:"card card-table"},L={class:"card-body"},z={class:"table-responsive"},I={class:"d-flex align-items-center justify-content-between p-4"},J=Object(l.createElementVNode)("span",null,"Show",-1),H=[Object(l.createElementVNode)("option",{value:"50"},"50",-1),Object(l.createElementVNode)("option",{value:"100"},"100",-1),Object(l.createElementVNode)("option",{value:"200"},"200",-1),Object(l.createElementVNode)("option",{value:"500"},"500",-1)],U=Object(l.createElementVNode)("span",null,"roles",-1),G=Object(l.createElementVNode)("div",null,[Object(l.createElementVNode)("input",{type:"text",class:"form-control",placeholder:"Search"})],-1),K={class:"table table-center table-hover datatable"},Q=Object(l.createElementVNode)("thead",{class:"thead-light"},[Object(l.createElementVNode)("tr",null,[Object(l.createElementVNode)("th",null,"Name"),Object(l.createElementVNode)("th",null,"No of Admins"),Object(l.createElementVNode)("th",null,"No of Permissions"),Object(l.createElementVNode)("th",null,"Date Added"),Object(l.createElementVNode)("th",{class:"text-end"},"Action")])],-1),X={href:"javascript:void(0);"},Y={class:"text-center"},Z={class:"dropdown dropdown-action"},$=Object(l.createElementVNode)("a",{href:"javascript:void(0)",class:"action-icon dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false"},[Object(l.createElementVNode)("i",{class:"fas fa-ellipsis-h"})],-1),ee={class:"dropdown-menu dropdown-menu-right",style:{width:"fit-content"}},te=Object(l.createElementVNode)("i",{class:"fa fa-edit me-2"},null,-1),ce=["onClick"],le=Object(l.createElementVNode)("i",{class:"fa fa-trash me-2"},null,-1),ae={key:0,class:"d-flex my-5 align-items-center justify-content-center"},oe={key:1,class:"d-flex my-5 align-items-center justify-content-center"},ne={id:"top-modal",class:"modal fade",tabindex:"-1",role:"dialog","aria-hidden":"true"},de={class:"modal-dialog modal-top"},re={class:"modal-content"},se=Object(l.createElementVNode)("div",{class:"modal-header"},[Object(l.createElementVNode)("h4",{class:"modal-title",id:"topModalLabel"},"Delete Role"),Object(l.createElementVNode)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),be={class:"modal-body"},ie={key:0};const me={__name:"Roles",setup(e){const t=Object(d.b)(),c=Object(a.s)(!1),me=Object(a.s)(1),je=Object(a.s)(50),Oe=Object(a.s)(""),pe=Object(a.s)(null),ue=Object(a.s)(!1),Ne=Object(a.s)(null);Object(l.watch)(Oe,e=>{Ve(e)});const Ve=e=>{let c={page:me.value,per_page:je.value,query:e};t.dispatch("roles/getRoles",c)},Ee=()=>{var e=document.getElementById("top-modal"),t=document.querySelector('[data-bs-dismiss="modal"]');t.setAttribute("data-bs-target","#"+e.id),t.click()},ve=()=>{t.dispatch("roles/deleteRole",pe.value.id),Ee()};Object(l.watch)(je,e=>{je.value=e,fe()});const ge=["Payment Mode","Cash","Cheque","Card","Online"],he=Object(l.computed)(()=>t.getters["roles/roles"]),fe=()=>{ue.value=!0;let e={page:me.value,per_page:je.value,query:""};t.dispatch("roles/getRoles",e).then(()=>{ue.value=!1,Ne.value=he.value.data.length,t.dispatch("roles/getPermissions")}).catch(()=>{ue.value=!1})},ye=Object(l.computed)(()=>t.getters["admin/total"]);Object(l.computed)(()=>{const e=[];for(let t=1;t<=ye.value;t++)e.push(t);return e.length>10?e.splice(0,10):e});return Object(l.onMounted)(()=>{fe()}),(e,d)=>{const me=Object(l.resolveComponent)("layout-header"),Oe=Object(l.resolveComponent)("layout-sidebar"),Ve=Object(l.resolveComponent)("router-link"),fe=Object(l.resolveComponent)("vue-select");return Object(l.openBlock)(),Object(l.createElementBlock)(l.Fragment,null,[Object(l.createCommentVNode)(" Main Wrapper "),Object(l.createElementVNode)("div",s,[Object(l.createVNode)(me),Object(l.createVNode)(Oe),Object(l.createCommentVNode)(" Notification "),Object(a.E)(t).state.roles.error?(Object(l.openBlock)(),Object(l.createElementBlock)("div",b,[Object(l.createElementVNode)("p",null,Object(o.toDisplayString)(Object(a.E)(t).state.roles.error),1),i])):Object(l.createCommentVNode)("v-if",!0),Object(a.E)(t).state.roles.message?(Object(l.openBlock)(),Object(l.createElementBlock)("div",m,[Object(l.createElementVNode)("p",null,Object(o.toDisplayString)(Object(a.E)(t).state.roles.message),1),j])):Object(l.createCommentVNode)("v-if",!0),Object(l.createCommentVNode)(" Notification end "),Object(l.createCommentVNode)(" Page Wrapper "),Object(l.createElementVNode)("div",O,[Object(l.createElementVNode)("div",p,[Object(l.createCommentVNode)(" Page Header "),Object(l.createElementVNode)("div",u,[Object(l.createElementVNode)("div",N,[Object(l.createElementVNode)("div",V,[E,Object(l.createElementVNode)("ul",v,[Object(l.createElementVNode)("li",g,[Object(l.createVNode)(Ve,{to:"/"},{default:Object(l.withCtx)(()=>[Object(l.createTextVNode)("Dashboard")]),_:1})]),h])]),Object(l.createElementVNode)("div",f,[Object(l.createVNode)(Ve,{to:"/add-role",class:"btn btn-primary me-2"},{default:Object(l.withCtx)(()=>[y]),_:1}),Object(l.createCommentVNode)(' <a\r\n                class="btn btn-primary filter-btn"\r\n                href="javascript:void(0);"\r\n                @click="toggleFilter"\r\n                id="filter_search"\r\n              >\r\n                <i class="fas fa-filter"></i>\r\n              </a> ')])])]),c.value?(Object(l.openBlock)(),Object(l.createElementBlock)("div",k,[Object(l.createElementVNode)("div",w,[Object(l.createElementVNode)("div",C,[x,Object(l.createElementVNode)("div",B,[Object(l.createElementVNode)("div",D,[S,Object(l.createVNode)(fe,{options:ge})])]),Object(l.createElementVNode)("div",_,[Object(l.createElementVNode)("div",M,[P,Object(l.createVNode)(fe,{options:ge})])]),Object(l.createElementVNode)("div",R,[Object(l.createElementVNode)("div",A,[T,Object(l.createVNode)(fe,{options:ge})])])])])])):Object(l.createCommentVNode)("v-if",!0),Object(l.createElementVNode)("div",q,[Object(l.createElementVNode)("div",W,[Object(l.createElementVNode)("div",F,[Object(l.createElementVNode)("div",L,[Object(l.createElementVNode)("div",z,[Object(l.createElementVNode)("div",I,[Object(l.createElementVNode)("div",null,[J,Object(l.withDirectives)(Object(l.createElementVNode)("select",{class:"mx-1 py-1","onUpdate:modelValue":d[0]||(d[0]=e=>je.value=e),name:"",id:""},H,512),[[n.vModelSelect,je.value]]),U]),G]),Object(l.createElementVNode)("table",K,[Q,Object(l.createElementVNode)("tbody",null,[(Object(l.openBlock)(!0),Object(l.createElementBlock)(l.Fragment,null,Object(l.renderList)(Object(a.E)(he).data,e=>(Object(l.openBlock)(),Object(l.createElementBlock)("tr",{key:e.id},[Object(l.createElementVNode)("td",null,[Object(l.createElementVNode)("a",X,Object(o.toDisplayString)(e.name),1)]),Object(l.createElementVNode)("td",null,Object(o.toDisplayString)(e.admins),1),Object(l.createElementVNode)("td",null,Object(o.toDisplayString)(e.permissions.length),1),Object(l.createElementVNode)("td",null,Object(o.toDisplayString)(Object(a.E)(r.b)(e.created_at)),1),Object(l.createElementVNode)("td",Y,[Object(l.createElementVNode)("div",Z,[$,Object(l.createElementVNode)("div",ee,[Object(l.createVNode)(Ve,{to:"/edit-role/"+e.id,class:"dropdown-item"},{default:Object(l.withCtx)(()=>[te,Object(l.createTextVNode)(" Edit")]),_:2},1032,["to"]),Object(l.createElementVNode)("a",{class:"dropdown-item cursor-pointer","data-bs-toggle":"modal",href:"javascript:void(0);",onClick:t=>(e=>{new bootstrap.Modal(document.getElementById("top-modal"),{backdrop:"static"}).show(),pe.value=e})(e)},[le,Object(l.createTextVNode)("Delete")],8,ce)])])])]))),128))])]),ue.value?(Object(l.openBlock)(),Object(l.createElementBlock)("div",ae," Loading... ")):Object(l.createCommentVNode)("v-if",!0),0===Ne.value?(Object(l.openBlock)(),Object(l.createElementBlock)("div",oe," No Data Available ")):Object(l.createCommentVNode)("v-if",!0)])])])])])])]),Object(l.createCommentVNode)(" /Page Wrapper "),Object(l.createElementVNode)("div",ne,[Object(l.createElementVNode)("div",de,[Object(l.createElementVNode)("div",re,[se,Object(l.createElementVNode)("div",be,[Object(l.createCommentVNode)(" <h5>Text in a modal</h5> "),Object(l.createElementVNode)("p",null,[Object(l.createTextVNode)(" Are you sure you want to delete "),pe.value?(Object(l.openBlock)(),Object(l.createElementBlock)("span",ie,Object(o.toDisplayString)(pe.value.name)+"?",1)):Object(l.createCommentVNode)("v-if",!0)])]),Object(l.createElementVNode)("div",{class:"modal-footer"},[Object(l.createElementVNode)("button",{type:"button",class:"btn btn-light me-1",onClick:Ee}," Close "),Object(l.createElementVNode)("button",{type:"button",onClick:ve,class:"btn btn-danger"}," Delete ")])]),Object(l.createCommentVNode)(" /.modal-content ")]),Object(l.createCommentVNode)(" /.modal-dialog ")])]),Object(l.createCommentVNode)(" /Main Wrapper ")],2112)}}};t.default=me}}]);
//# sourceMappingURL=23.0cd10c.bundle.js.map